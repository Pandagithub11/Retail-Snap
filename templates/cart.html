{% extends "base.html" %}

<!-- <head> 
	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
</head> -->
<!-- <head>  
    
    <script src="js/Chart.min.js"></script>  
</head> -->

<head>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
</head>

{% block title %}Cart | SIESmart{% endblock %}

{% block body %}
<div class="row">
	<div class="col-lg-8">
		<h3 class="bold">
			<i class="glyphicon glyphicon-shopping-cart"></i> Your Shopping Cart
		</h3>

		<div class="panel panel-primary">
			<div class="panel-body">
				{% for product in products %}
				<div class="row">
					<div class="col-lg-4">
						<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
							<div class="thumbnail thumbnail-q">
								<img src="{{ product['image'] }}" alt="">
							</div>
						</div>
					</div>
					<div class="col-lg-4">
						<h3 class="bold">{{ product['name'] }}</h3>
						<p>&dollar;{{ product['price'] / 100 }}</p>
						<br />
						<p>
							<a href="{{ url_for('remove_from_cart', index=product['index']) }}">
							<button type="button" class="btn btn-danger btn-xs">
								<i class="glyphicon glyphicon-trash"></i>
							</button></a>
						</p>
					</div>
					<div class="col-lg-2">
						<h3>Quantity</h3>
						<p>
							{{ product['quantity'] }}
						</p>
					</div>
					<div class="col-lg-2">
						<h3>Total</h3>
						<p>
							<strong>&dollar;{{ product['total'] / 100 }}</strong>
						</p>
					</div>
				</div>
				{% endfor %}
			</div>
		</div>
	</div>

	<div class="col-lg-4">
		<h3 class="bold">
			<i class="glyphicon glyphicon-th-list"></i> Cart Summary
		</h3>

		<div class="panel panel-primary">
			<div class="panel-body">
				Current Cart Value
			</div>
			<ul class="list-group">
				<li class="list-group-item">
					<p>
						{{ quantity_total }} Items <strong class="pull-right">&dollar;{{ grand_total / 100 }}</strong>
					</p>
					<p>
						24hr Shipping <strong class="pull-right">&dollar;10</strong>
					</p>
				</li>
				<li class="list-group-item">
					<p>Total <strong class="pull-right">&dollar;{{ grand_total_plus_shipping / 100 }}</strong></p>
				</li>
			</ul>
			<div class="panel-footer">
				{%if quantity_total>0%}
				<a href="{{ url_for('checkout') }}" class="btn btn-primary btn-sm">
					Checkout <i class="glyphicon glyphicon-chevron-right"></i>
				</a>
				{%else%}
				<a href="#" class="btn btn-primary btn-sm">
					Checkout <i class="glyphicon glyphicon-chevron-right"></i>
				</a>
				{%endif%}
				<a href="{{ url_for('index') }}" class="btn btn-link btn-sm pull-right">
					<i class="glyphicon glyphicon-chevron-left"></i> Continue Shopping
				</a>
				<a href="{{ url_for('graph') }}" class="btn btn-link btn-sm pull-right">
					<i class="glyphicon glyphicon-chevron-left"></i> graph
				</a>
				
			</div>
			<!-- <h1>Price Chart</h1>

      <p>{{ name }}</p>

      <img src={{ name }} alt="Chart" height="42" width="42">-->

		</div>
	</div>
</div>
<!-- <canvas id="lineChart", width="900", height="400"></canvas>
<script>
	var ctx= document.getElementById("lineChart").getContext("2D");
	var lineChart= new Chart(ctx,{
		type: "line",
		data:{
			labels: {{ labels | safe }},
			datasets: [
				{
					label: "Data points",
					data: {{ values | safe }},
					fill: false,
					borderColor: "rgb(75, 192, 192)",
					lineTension: 0.1
				}
			]
		}
		options: {
			responsive: false
		}
	}) 

</script> -->

<!-- <canvas id="pieChartLoc" height="300" width="300"></canvas>  
    <script>  
        var pieChartData = [  
        {  
            value: 50,  
            color: "lightblue"  
        },  
        {  
            value: 10,  
            color: "red"  
        },  
        {  
            value: 40,  
            color: "green"  
        }  
        ]  
        var myLine = new Chart(document.getElementById("pieChartLoc").getContext("2d")).Pie(pieChartData);  
    </script>   -->
{% endblock %}
